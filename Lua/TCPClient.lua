require("Bridge")
addr=c_malloc(16)
buffer=c_malloc(256)
c_setbyte(addr,0,2)
c_setbyte(addr,1,0)
c_setbyte(addr,2,3721>>8)
c_setbyte(addr,3,3721&0xFF)
c_setbyte(addr,4,127)
c_setbyte(addr,5,0)
c_setbyte(addr,6,0)
c_setbyte(addr,7,1)
while (true) do
 size=c_read(0,buffer,0xFF)
 client=c_socket(2,1,0)
 c_connect(client,addr,0x10)
 c_write(client,buffer,size)
 size=c_read(client,buffer,0xFF)
 c_write(1,buffer,size)
 c_close(client)
 end